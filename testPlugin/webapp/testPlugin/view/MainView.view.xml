<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core" xmlns:html="http://www.w3.org/1999/xhtml" controllerName="altea.dmc.plugin.testPlugin.testPlugin.controller.MainView" width="100%" height="100%">
		
        <Panel 
                id="panelPlugin"  
                width="100%"
                height="100%"
                expandable="false"
                expanded="true"
                accessibleRole="Region"
                backgroundDesign="Transparent"
                class="sapUiNoContentPadding">  
                <headerToolbar>
                    <Toolbar height="3rem">
                        <Title id="headerTitle" text="{i18n>Toolbar.Title}"/>
                        <ToolbarSpacer/>
                        <Button 
                            id="infoBtn"
                            icon="sap-icon://information" press=".onInfo" class="sapUiTinyMarginTop"/>
                        <Button 
                            id="resfreshBtn" visible="{= ${wmModel>/scatola} &gt; 0 }"
                            icon="sap-icon://refresh" press=".onRefresh" class="sapUiTinyMarginTop"/>
                        <!-- <Label text="Badge Number: {wmModel>/userBadge}"/> -->
                    </Toolbar>
                </headerToolbar>
                <content> 
                    <HeaderContainer id="wm" scrollStep="200" height="8rem">
                        <TileContent id="qtyPallet" busy="{wmModel>/palletBusy}" visible="false" footer="{i18n>HeaderContainer.qtyPallet}">
                            <content>
                                <NumericContent value="{wmModel>/pallet}" icon="sap-icon://fridge" truncateValueTo="5"/>
                            </content>
                        </TileContent>
                        <TileContent id="qtyScatola" busy="{wmModel>/scatolaBusy}" visible="false" footer="{i18n>HeaderContainer.qtyScatola}">
                            <content>
                                <NumericContent value="{wmModel>/scatola}" icon="sap-icon://sap-box"/>
                            </content>
                        </TileContent>
                        <TileContent id="qtyPalletScatola" busy="{wmModel>/palletscatolaBusy}" visible="false" footer="{i18n>HeaderContainer.qtyPalletScatola}">
                            <content>
                                <NumericContent value="{wmModel>/palletscatola}" icon="sap-icon://inbox"/>
                            </content>
                        </TileContent>
                        <TileContent id="qtyScatoleVersate" busy="{wmModel>/scatoleVersateBusy}" visible="{= ${wmModel>/scatola} &gt; 0 &amp;&amp; ${wmModel>/scatoleVersate} &gt;= 0 }" footer="{i18n>HeaderContainer.qtyScatoleVersate}" footerColor="Critical">
                            <content>
                                <NumericContent value="{wmModel>/scatoleVersate}" valueColor="Critical" icon="sap-icon://tri-state"/>   
                            </content>
                        </TileContent>
                    </HeaderContainer>

                    <!-- Table -->
                    <Table
                        id="itemsTable"
                        headerText="{i18n>Table.headerText} {= ' (' + ( ${wmModel>/lineItems} ? ${wmModel>/lineItems}.length : 0 ) + ')'}"
                        items="{wmModel>/lineItems}"                        
                        width="100%"
                        inset="false"
                        mode="None">
                        
                        <columns>
                            <Column><Text text="{i18n>Table.Column.Mat}"/></Column>
                            <Column><Text text="{i18n>Table.Column.Desc}"/></Column>
                            <Column><Text text="{i18n>Table.Column.Sto}"/></Column>
                            <Column hAlign="End" visible="false"><Text text="{i18n>Table.Column.Post}"/></Column>
                            <Column hAlign="Center"></Column>
                        </columns>

                        <items>
                            <ColumnListItem>
                                <cells>
                                    <VBox 
                                        fitContainer="true"
                                        wrap="Wrap"
                                        class="sapUiSmallMargin">
                                        <Text text="{wmModel>material}"/>
                                        <Button 
                                        id="manualBtn" 
                                        enabled="{enableModel>/manualBtnEnabled}"
                                        icon="sap-icon://touch" text="{i18n>Button.HU}" type="Reject" visible="{= ${wmModel>/scatola} &gt; 0 &amp;&amp; ${wmModel>/scatoleVersate} &gt; 0 }" press=".onChiusuraManuale" ariaLabelledBy="editButtonLabel" class="sapUiTinyMarginTop"/>
                                    </VBox>
  
                                    <Text text="{wmModel>description}"/>
                                    <Text text="{wmModel>storageLocation}"/>
                                    
                                    <!-- Quantità con ProgressIndicator -->
                                    <HBox justifyContent="End" alignItems="Center">
                                    <!-- Quantità con ProgressIndicator -->
                                        <ProgressIndicator
                                            displayValue="{wmModel>postedQuantityDisplay}"                                          
                                            percentValue="{wmModel>postedQuantityPercent}"
                                            showValue="true"
                                            width="10rem"/>
                                    </HBox>

                                    <!-- Buttons -->
                                    <HBox justifyContent="Center"
                                        alignItems="Center"
                                        fitContainer="true"
                                        wrap="Wrap"
                                        class="sapUiSmallMargin">
                                        <Button
                                            text="{i18n>Button.Regis}"
                                            press=".onShowPostings"
                                            class="sapUiTinyMarginEnd" />
                                        <Button
                                            id="recordBtn"
                                            enabled="{enableModel>/recordBtnEnabled}"
                                            text="{i18n>Button.Post}"
                                            type="Emphasized"
                                            press=".onPostItem" />
                                    </HBox>
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </content>
	    </Panel>		
</mvc:View>