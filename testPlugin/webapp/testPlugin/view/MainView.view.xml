<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core" xmlns:html="http://www.w3.org/1999/xhtml" controllerName="altea.dmc.plugin.testPlugin.testPlugin.controller.MainView" width="100%" height="100%">
		
        <Panel 
                id="panelPlugin"  
                width="100%"
                height="100%"
                expandable="false"
                expanded="true"
                accessibleRole="Region"
                backgroundDesign="Transparent"
                class="sapUiNoContentPadding">  
                <headerToolbar>
                    <Toolbar height="3rem">
                        <Title id="headerTitle" text="Warehouse Management"/>
                        <ToolbarSpacer/>
                    </Toolbar>
                </headerToolbar>
                <content> 
                    <HeaderContainer id="wm" scrollStep="200" height="8rem">
                        <TileContent id="qtyPallet" busy="{wmModel>/palletBusy}" visible="false" footer="Qty Pallet">
                            <content>
                                <NumericContent value="{wmModel>/pallet}" icon="sap-icon://fridge" />
                            </content>
                        </TileContent>
                        <TileContent id="qtyScatola" busy="{wmModel>/scatolaBusy}" visible="false" footer="Qty Scatola">
                            <content>
                                <NumericContent value="{wmModel>/scatola}" icon="sap-icon://sap-box"/>
                            </content>
                        </TileContent>
                        <TileContent id="qtyPalletScatola" busy="{wmModel>/palletscatolaBusy}" visible="false" footer="Scatole/Pallet">
                            <content>
                                <NumericContent value="{wmModel>/palletscatola}" icon="sap-icon://inbox"/>
                            </content>
                        </TileContent>
                        <TileContent id="qtyScatoleVersate" busy="{wmModel>/scatoleVersateBusy}" visible="{= ${wmModel>/scatola} > 0 }" footer="Scatole Versate" footerColor="Critical">
                            <content>
                                <NumericContent value="{wmModel>/scatoleVersate}" valueColor="Critical"/>
                            </content>
                        </TileContent>
                    </HeaderContainer>

                    <!-- Table -->
                    <Table
                        id="itemsTable"
                        headerText="{= 'Posizioni (' + ( ${wmModel>/lineItems} ? ${wmModel>/lineItems}.length : 0 ) + ')'}"
                        items="{wmModel>/lineItems}"                        
                        width="100%"
                        inset="false"
                        mode="None">
                        
                        <columns>
                            <Column><Text text="Material No."/></Column>
                            <Column><Text text="Description"/></Column>
                            <Column><Text text="Storage Location"/></Column>
                            <Column hAlign="End"><Text text="Posted Quantity"/></Column>
                            <Column hAlign="Center"></Column>
                        </columns>

                        <items>
                            <ColumnListItem>
                                <cells>
                                    <Text text="{wmModel>material}"/>
                                    <Text text="{wmModel>description}"/>
                                    <Text text="{wmModel>storageLocation}"/>
                                    
                                    <!-- Quantità con ProgressIndicator -->
                                    <HBox justifyContent="End" alignItems="Center">
                                    <!-- Quantità con ProgressIndicator -->
                                        <ProgressIndicator
                                            displayValue="{wmModel>postedQuantityDisplay}"                                          
                                            percentValue="{wmModel>postedQuantityPercent}"
                                            showValue="true"
                                            width="10rem"/>
                                    </HBox>

                                    <!-- Buttons -->
                                    <HBox justifyContent="Center" alignItems="Center">
                                        <Button
                                            text="Registrazioni"
                                            press=".onShowPostings"
                                            class="sapUiTinyMarginEnd" />
                                        <Button
                                            id="recordBtn"
                                            text="Registra"
                                            type="Emphasized"
                                            press=".onPostItem" />
                                    </HBox>
                                </cells>
                            </ColumnListItem>
                        </items>
                    </Table>
                </content>
	    </Panel>		
        
  
</mvc:View>