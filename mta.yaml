ID: testPlugin
_schema-version: '3.2'
version: 0.0.2

modules:
 - name: testPlugin
   type: html5
   path: testPlugin
   parameters:
      disk-quota: 512M
      memory: 256M
   properties:
    httpHeaders:
       - X-Frame-Options: deny
    CORS: "[{\"uriPattern\": \"^/testPlugin/(.*)$\",\"allowedOrigin\": [
           {\"host\": \"sap-dmc-test-n3lov8wp.execution.eu20-quality.web.dmc.cloud.sap\",\"protocol\": \"https\"},
           {\"host\": \"sap-dmc-test-n3lov8wp.authentication.eu20.hana.ondemand.com\",\"protocol\": \"https\"},
           {\"host\": \"sunino-spa-sap-dmc-test-cap-dmc-wm-srv.cfapps.eu20-001.hana.ondemand.com\",\"protocol\": \"https\"}],
           \"allowedMethods\": [\"GET\",\"OPTIONS\"],
           \"allowedHeaders\":[\"Origin\", \"Accept\",\"X-Requested-With\",\"Content-Type\",
           \"Access-Control-Request-Method\",\"Access-Control-Request-Headers\",\"Authorization\",
           \"X-Sap-Cid\",\"X-Csrf-Token\",\"x-dme-industry-type\",\"x-dme-plant\",\"x-features\"],
           \"exposeHeaders\": [\"Accept\",\"Authorization\",\"X-Requested-With\",\"X-Sap-Cid\",
           \"Access-Control-Allow-Origin\",\"Access-Control-Allow-Credentials\",\"X-Csrf-Token\",
           \"Content-Type\",\"x-dme-industry-type\",\"x-dme-plant\",\"x-features\"]}]"
   #build-parameters:
      #builder: grunt
   requires:
    - name: uaa_indicator_suite
    - name: destination_hmi_pod_plugin
    - name: cap-dmc-wm-auth

resources:
 - name: uaa_indicator_suite
   parameters:
      path: ./xs-security.json
      service-plan: application
      service: xsuaa
   type: org.cloudfoundry.managed-service
 - name: destination_hmi_pod_plugin
   parameters:
      service-plan: lite
      service: destination
   type: org.cloudfoundry.managed-service
 - name: cap-dmc-wm-auth
   type: org.cloudfoundry.existing-service

